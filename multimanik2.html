<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Loja de Roupas</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-900">

  <!-- Navbar -->
  <header class="bg-white shadow-md fixed w-full z-50">
    <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
      <h1 class="text-2xl font-bold text-pink-600">FashionStore</h1>
      <nav class="hidden md:flex gap-6">
        <a href="#" class="hover:text-pink-600">Masculino</a>
        <a href="#" class="hover:text-pink-600">Feminino</a>
        <a href="#" class="hover:text-pink-600">Acess√≥rios</a>
        <a href="#" class="hover:text-pink-600">Promo√ß√µes</a>
      </nav>
      <div class="flex items-center gap-4">
        <input id="search" type="text" placeholder="Buscar..." class="border rounded-lg px-3 py-1 focus:outline-pink-600">
        <button id="cartBtn" class="relative">
          üõí
          <span id="cartCount" class="absolute -top-2 -right-2 bg-pink-600 text-white text-xs rounded-full px-2">0</span>
        </button>
      </div>
    </div>
  </header>

  <!-- Produtos -->
  <main class="max-w-7xl mx-auto pt-24 px-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
    <div class="product bg-white rounded-2xl shadow-md overflow-hidden p-3 cursor-pointer" data-name="Camisa Polo" data-price="89.90">
      <div class="slideshow relative">
        <img src="https://via.placeholder.com/250/ff9999" class="w-full h-48 object-cover rounded-lg slide">
        <img src="https://via.placeholder.com/250/99ccff" class="w-full h-48 object-cover rounded-lg slide hidden">
      </div>
      <h2 class="mt-3 text-lg font-semibold">Camisa Polo</h2>
      <p class="text-pink-600 font-bold">R$ 89,90</p>
      <button class="details mt-2 w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700">Ver Detalhes</button>
    </div>
  </main>

  <!-- Modal de Detalhes -->
  <div id="detailsModal" class="fixed inset-0 bg-black bg-opacity-40 hidden items-center justify-center z-50">
    <div class="bg-white rounded-2xl shadow-lg w-96 p-5">
      <img id="detailImage" src="" class="w-full h-56 object-cover rounded-lg mb-4">
      <h2 id="detailTitle" class="text-xl font-bold mb-2"></h2>
      <p id="detailPrice" class="text-pink-600 font-bold mb-4"></p>

      <!-- Sele√ß√µes -->
      <label class="block mb-2">Tamanho:</label>
      <select id="detailSize" class="border w-full px-3 py-2 rounded-lg mb-3">
        <option>P</option>
        <option>M</option>
        <option>G</option>
        <option>GG</option>
      </select>

      <label class="block mb-2">Cor:</label>
      <select id="detailColor" class="border w-full px-3 py-2 rounded-lg mb-3">
        <option>Preto</option>
        <option>Branco</option>
        <option>Azul</option>
        <option>Vermelho</option>
      </select>

      <label class="block mb-2">Quantidade:</label>
      <input id="detailQuantity" type="number" value="1" min="1" class="border w-full px-3 py-2 rounded-lg mb-3">

      <button id="addFromDetails" class="w-full bg-pink-600 text-white py-2 rounded-lg hover:bg-pink-700">Adicionar ao Carrinho</button>
      <button id="closeDetails" class="mt-2 w-full bg-gray-300 py-2 rounded-lg hover:bg-gray-400">Fechar</button>
    </div>
  </div>

  <!-- Carrinho Modal -->
  <div id="cartModal" class="fixed inset-0 bg-black bg-opacity-40 hidden items-center justify-center z-50">
    <div class="bg-white rounded-2xl shadow-lg w-96 p-5">
      <h2 class="text-xl font-bold mb-4">üõçÔ∏è Seu Carrinho</h2>
      <ul id="cartItems" class="space-y-2 mb-4"></ul>
      <p id="cartTotal" class="font-bold text-lg">Total: R$ 0,00</p>

      <!-- Cupom -->
      <input id="coupon" type="text" placeholder="Digite o cupom" class="border w-full px-3 py-1 rounded-lg mt-2">
      <button id="applyCoupon" class="mt-2 w-full bg-yellow-500 text-white py-2 rounded-lg hover:bg-yellow-600">Aplicar Cupom</button>

      <!-- Dados do Cliente -->
      <input id="clientName" type="text" placeholder="Nome" class="border w-full px-3 py-1 rounded-lg mt-2">
      <input id="clientAddress" type="text" placeholder="Endere√ßo" class="border w-full px-3 py-1 rounded-lg mt-2">
      <select id="payment" class="border w-full px-3 py-1 rounded-lg mt-2">
        <option value="Dinheiro">Dinheiro</option>
        <option value="Pix">Pix</option>
        <option value="Cart√£o">Cart√£o</option>
      </select>

      <button id="checkout" class="mt-4 w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Finalizar Pedido no WhatsApp</button>
      <button id="closeCart" class="mt-2 w-full bg-gray-300 py-2 rounded-lg hover:bg-gray-400">Fechar</button>
    </div>
  </div>

  <script>
    const detailsButtons = document.querySelectorAll('.details');
    const detailsModal = document.getElementById('detailsModal');
    const closeDetails = document.getElementById('closeDetails');
    const addFromDetails = document.getElementById('addFromDetails');
    const detailTitle = document.getElementById('detailTitle');
    const detailPrice = document.getElementById('detailPrice');
    const detailImage = document.getElementById('detailImage');

    const detailSize = document.getElementById('detailSize');
    const detailColor = document.getElementById('detailColor');
    const detailQuantity = document.getElementById('detailQuantity');

    const cartBtn = document.getElementById('cartBtn');
    const cartModal = document.getElementById('cartModal');
    const closeCart = document.getElementById('closeCart');
    const cartItems = document.getElementById('cartItems');
    const cartTotal = document.getElementById('cartTotal');
    const cartCount = document.getElementById('cartCount');
    const checkout = document.getElementById('checkout');

    let cart = [];
    let discount = 0;
    let currentProduct = null;

    detailsButtons.forEach(button => {
      button.addEventListener('click', (e) => {
        const product = e.target.closest('.product');
        currentProduct = product;
        detailTitle.innerText = product.getAttribute('data-name');
        detailPrice.innerText = 'R$ ' + parseFloat(product.getAttribute('data-price')).toFixed(2);
        const img = product.querySelector('.slide');
        detailImage.src = img.src;

        detailsModal.classList.remove('hidden');
        detailsModal.classList.add('flex');
      });
    });

    closeDetails.addEventListener('click', () => {
      detailsModal.classList.add('hidden');
    });

    addFromDetails.addEventListener('click', () => {
      if (!currentProduct) return;
      const name = currentProduct.getAttribute('data-name');
      const price = parseFloat(currentProduct.getAttribute('data-price'));
      const size = detailSize.value;
      const color = detailColor.value;
      const quantity = parseInt(detailQuantity.value);

      for (let i = 0; i < quantity; i++) {
        cart.push({ name: `${name} - Tam: ${size} - Cor: ${color}`, price });
      }
      updateCart();
      detailsModal.classList.add('hidden');
    });

    cartBtn.addEventListener('click', () => {
      cartModal.classList.remove('hidden');
      cartModal.classList.add('flex');
    });

    closeCart.addEventListener('click', () => {
      cartModal.classList.add('hidden');
    });

    function updateCart() {
      cartItems.innerHTML = '';
      let total = 0;

      cart.forEach(item => {
        const li = document.createElement('li');
        li.className = 'flex justify-between';
        li.innerHTML = `<span>${item.name}</span><span>R$ ${item.price.toFixed(2)}</span>`;
        cartItems.appendChild(li);
        total += item.price;
      });

      total -= discount;
      if (total < 0) total = 0;

      cartTotal.innerText = `Total: R$ ${total.toFixed(2)}`;
      cartCount.innerText = cart.length;
    }

    // Slideshow autom√°tico sem bot√µes
    document.querySelectorAll('.slideshow').forEach(slideshow => {
      const slides = slideshow.querySelectorAll('.slide');
      let index = 0;
      setInterval(() => {
        slides[index].classList.add('hidden');
        index = (index + 1) % slides.length;
        slides[index].classList.remove('hidden');
      }, 3000);
    });
  </script>
</body>
</html>
